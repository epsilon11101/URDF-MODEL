<?xml version="1.0"?>
<!-- TODO: USES XACRO AND CHANGES INERTIAL MOMENTS-->
<robot name="prueba">
    <link name="world" />
    <link name="base_link">
        <visual>
            <geometry>
                <mesh filename="package://m2wr_description/meshes/link1.dae" scale="1 1 1"/>
            </geometry>
            <material name="Silver"/>
            <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
        </visual>

        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <box size="0.422 0.082 0.082"/>
            </geometry>
            
        </collision>

       
    </link>


    <joint name="base" type="fixed">
        <parent link="world"/>
        <child link="base_link"/>
    </joint>


<!-- -  - - - - - - - SHOULDER- - - - - - - - - - - -  -->
<link name="link1">
<visual>
    <geometry>
        <mesh filename="package://m2wr_description/meshes/link2.dae" scale="1 1 1"/>
    </geometry>
     <material name="Silver"/>
     <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
</visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://m2wr_description/meshes/boxL2.dae" scale="1 1 1"/>
            </geometry>
        </collision>

        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.000340"/>
            <inertia ixx="0.998722" ixy="-0.050154" ixz="0.006288" 
                    iyy="0.947029" iyz="-0.317303" izz="0.948303"/>
        </inertial>
</link>


<joint name="shoulder" type="revolute">
<axis xyz="1 0 0"/>
 <limit effort="0.0" lower="-0.20" upper="2.74" velocity="0.0"/>
<parent link="base_link"/>
<child link="link1"/>
<origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
</joint>


<!-- -  - - - - - - - - - ELBOW - - - - - - - - -  -->

<link name="link2">
<visual>
    <geometry>
        <mesh filename="package://m2wr_description/meshes/link3.dae" scale="1 1 1"/>
    </geometry>
    <material name="Red"/>
    <origin xyz="0 0 0" rpy="0.0 0.0 0.0"/>
</visual>  
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
           <geometry>
                <mesh filename="package://m2wr_description/meshes/boxL3.dae" scale="1 1 1"/>
            </geometry>
        </collision>

        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.000303"/>
            <inertia ixx="0.998935" ixy="0.042751" ixz="-0.017379" 
                    iyy="0.788307" iyz="0.614850" izz="0.788453"/>
        </inertial>  
</link>

<joint name="elbow" type="continuous">
<axis xyz="1.0 0.0 0.0"/>
    <parent link="link1"/>
    <child link="link2"/>
     <origin xyz=" -0.0494107529521 0.577380070686   0.193566637278 " rpy="0.0 0.0 0.0"/>
</joint>


<!-- -  - - - - - - - -WRIST- - - - - - - - - - -  -->
<link name="link3">
<visual>
    <geometry>
        <mesh filename="package://m2wr_description/meshes/link4.dae" scale="1 1 1"/>
    </geometry>
    <material name="Purple">
        <color rgba="1.0 0.0 1.0 1.0"/>
    </material>
    <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
    </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://m2wr_description/meshes/boxL4.dae" scale="1 1 1"/>
            </geometry>
        </collision>

        <inertial>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <mass value="0.000175"/>
            <inertia ixx="0.998679" ixy="-0.000695" ixz="0.051389" 
                    iyy="0.913907" iyz="0.405419" izz="0.912685"/>
        </inertial> 
</link>

<joint name="wrist" type="revolute">
<limit lower="-0.73" upper="3.14" effort="0.0" velocity="0.0"/>
<axis xyz="1.0 0.0 0.0"/>
    <parent link="link2"/>
    <child link="link3"/>
    <origin xyz="-0.0636059343815  -0.365001 0.2876 " rpy="0.0 0.0 0.0"/>
</joint>


    <!--  TRANSMISSION -->

<transmission name="tran0">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="shoulder">
        <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor0">
        <hardwareInterface>PositionJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>

<transmission name="tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="elbow">
     <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor1">
    <hardwareInterface>PositionJointInterface</hardwareInterface>
    <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>


<transmission name="tran2">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="wrist">
     <hardwareInterface>PositionJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor2">
    <hardwareInterface>PositionJointInterface</hardwareInterface>
    <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>


    <!--  PLUGINS -->


<gazebo>
    <plugin name="control" filename="libgazebo_ros_control.so">
    <legacyModeNS>true</legacyModeNS>
    </plugin>
</gazebo>

<gazebo>
<plugin name="joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">
<jointName>shoulder,elbow,wrist</jointName>
</plugin>
</gazebo>


</robot>